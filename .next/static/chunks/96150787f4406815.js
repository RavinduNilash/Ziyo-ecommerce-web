(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},25194,e=>{"use strict";e.s(["CartProvider",()=>i,"useCart",()=>l]);var t=e.i(43476),r=e.i(71645),s=e.i(5766);let a=(0,r.createContext)(void 0),l=()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useCart must be used within a CartProvider");return e},c="ziyo-cart",i=e=>{let{children:l}=e,[i,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem(c);if(e)try{d(JSON.parse(e))}catch(e){console.error("Error loading cart from localStorage:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem(c,JSON.stringify(i))},[i]);let o=e=>{d(t=>{let r=t.find(t=>t.productId===e);return r&&s.toast.success("".concat(r.product.name," removed from cart")),t.filter(t=>t.productId!==e)})},u=i.reduce((e,t)=>e+t.quantity,0),n=i.reduce((e,t)=>e+t.product.price*t.quantity,0);return(0,t.jsx)(a.Provider,{value:{items:i,itemCount:u,total:n,addItem:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;d(r=>{if(r.find(t=>t.productId===e.id)){let a=r.map(r=>r.productId===e.id?{...r,quantity:r.quantity+t}:r);return s.toast.success("".concat(e.name," quantity updated in cart")),a}{let a={id:"".concat(e.id,"-").concat(Date.now()),productId:e.id,product:e,quantity:t};return s.toast.success("".concat(e.name," added to cart")),[...r,a]}})},removeItem:o,updateQuantity:(e,t)=>{if(t<=0)return void o(e);d(r=>r.map(r=>r.productId===e?{...r,quantity:t}:r))},clearCart:()=>{d([]),s.toast.success("Cart cleared")},isInCart:e=>i.some(t=>t.productId===e)},children:l})}},1928,e=>{"use strict";e.s(["ShoppingCart",()=>t],1928);let t=(0,e.i(75254).default)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},32341,e=>{"use strict";e.s(["AuthProvider",()=>d,"useAuth",()=>i]);var t=e.i(43476),r=e.i(71645);e.i(51718);var s=e.i(18357),a=e.i(59141),l=e.i(86909);let c=(0,r.createContext)({user:null,userData:null,loading:!0,isAdmin:!1}),i=()=>{let e=(0,r.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{children:i}=e,[d,o]=(0,r.useState)(null),[u,n]=(0,r.useState)(null),[h,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{if(!a.auth)return void x(!1);let e=(0,s.onAuthStateChanged)(a.auth,async e=>{if(o(e),e)try{let t=await (0,l.getUserData)(e.uid);n(t)}catch(e){console.error("Error fetching user data:",e),n(null)}else n(null);x(!1)});return()=>e()},[]);let m=(null==u?void 0:u.isAdmin)||!1;return(0,t.jsx)(c.Provider,{value:{user:d,userData:u,loading:h,isAdmin:m},children:i})}},3374,e=>{"use strict";e.s(["Header",()=>m],3374);var t=e.i(43476),r=e.i(22016),s=e.i(71645),a=e.i(32341),l=e.i(25194),c=e.i(86909),i=e.i(59544),d=e.i(1928),o=e.i(75254);let u=(0,o.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n=(0,o.default)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),h=(0,o.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var x=e.i(55436);let m=()=>{let{user:e,loading:o}=(0,a.useAuth)(),{itemCount:m}=(0,l.useCart)(),[p,f]=(0,s.useState)(!1),y=async()=>{try{await (0,c.logOut)()}catch(e){console.error("Logout error:",e)}};return(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(r.default,{href:"/",className:"text-2xl font-bold text-blue-600",children:"Ziyo"})}),(0,t.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,t.jsx)(r.default,{href:"/",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium",children:"Home"}),(0,t.jsx)(r.default,{href:"/products",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium",children:"Products"}),(0,t.jsx)(r.default,{href:"/categories",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium",children:"Categories"}),(0,t.jsx)(r.default,{href:"/about",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium",children:"About"})]}),(0,t.jsx)("div",{className:"hidden md:flex flex-1 max-w-lg mx-8",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)(x.Search,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(r.default,{href:"/cart",className:"relative p-2 text-gray-700 hover:text-blue-600",children:[(0,t.jsx)(d.ShoppingCart,{className:"h-6 w-6"}),m>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-blue-600 text-white text-xs flex items-center justify-center",children:m})]}),o?(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}):e?(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)("button",{className:"flex items-center space-x-2 text-gray-700 hover:text-blue-600",children:[(0,t.jsx)(u,{className:"h-6 w-6"}),(0,t.jsx)("span",{className:"hidden md:block text-sm",children:e.displayName||"User"})]}),(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[(0,t.jsx)(r.default,{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Profile"}),(0,t.jsx)(r.default,{href:"/orders",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Orders"}),(0,t.jsx)("button",{onClick:y,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(r.default,{href:"/login",children:(0,t.jsx)(i.Button,{variant:"ghost",size:"sm",children:"Login"})}),(0,t.jsx)(r.default,{href:"/register",children:(0,t.jsx)(i.Button,{size:"sm",children:"Sign Up"})})]}),(0,t.jsx)("button",{onClick:()=>f(!p),className:"md:hidden p-2 text-gray-700 hover:text-blue-600",children:p?(0,t.jsx)(h,{className:"h-6 w-6"}):(0,t.jsx)(n,{className:"h-6 w-6"})})]})]}),p&&(0,t.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.default,{href:"/",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",children:"Home"}),(0,t.jsx)(r.default,{href:"/products",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",children:"Products"}),(0,t.jsx)(r.default,{href:"/categories",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",children:"Categories"}),(0,t.jsx)(r.default,{href:"/about",className:"block px-3 py-2 text-gray-700 hover:text-blue-600",children:"About"}),(0,t.jsx)("div",{className:"px-3 py-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)(x.Search,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})})]})})]})})}}]);